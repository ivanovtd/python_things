# Авторизация на vm'ках

Основной скрипт - auth_ssh.py 
Для работы потребуется:
  - Python3
  - Pexpect
  - sshpass

# Установка зависимостей:

```sh
$ sudo apt install sshpass
$ python3 -m pip install pexpect
```

# Добавляем переменные окружения:
Для этого добавляем в ваш .bashrc/.zshrc/.fishrc следующие 2 строчки:
```sh
export MJ_BILLING_LOGIN="Ваш логин в билинге"
export MJ_BILLING_PASSWD="Ваш пароль в билинге"
```

# Запускаем!

После установки всех зависимостей мы можем запустить скрипт, используя следующую команду:
\* vm была выбрана случайным образом
При запуске с флагом -c пробуем стучаться с последним рутовым паролем

```sh
$ python3 auth_ssh.py vm30049 -c
```
Или
```sh
$ python3 auth_ssh.py 78.108.95.174
```
Ну или же
```sh
$ python3 auth_ssh.py strikeshop.ru
```
# Если вы сидите на Windows:
  - Скачайте Linux из магазина Microsoft Store / поставьте второй системой / создайте виртуалку
  - Ну либо используйте Putty, для этого замените строку 
    ```sh
    os.system(f"sshpass -p {ROOT_PASS} ssh -o StrictHostKeyChecking=no root@{ip}")
    на
    os.system(f'putty -load "{ip}" -l root -pw {ROOT_PASS}')
    ```
# Обращаю ваше внимание, что скрипт больше писался для себя, и он не может обрабатывать пароли более точным образом, так что если у вас есть предложения как улучшить скрипт - обращайтесь, и если он не подключается, я не зря вывел список паролей, ip и ссылку в билинг
